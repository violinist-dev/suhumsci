{% set attributes = attributes.addClass(['centered-container', 'layout', settings.section_width]) %}

{% if content.left_sidebar and content.right_sidebar %}
    {% if settings.region_widths == 'equal' %}
        {% set attributes = attributes.addClass(['layout-bars']) %}


        {% include "@decanter/layout/grid/three-column/bars/bars.twig" with
            {
                'attributes': attributes,
                'first': content.left_sidebar,
                'first_attributes': region_attributes.left_sidebar.addClass('layout__region'),
                'second': content.main,
                'second_attributes': region_attributes.main.addClass('layout__region'),
                'third': content.right_sidebar,
                'third_attributes': region_attributes.right_sidebar.addClass('layout__region'),
            } %}

    {% else %}
        {% set attributes = attributes.addClass(['layout-robot']) %}

        {% include "@decanter/layout/grid/three-column/robot/robot.twig" with
            {
                'attributes': attributes,
                'first': content.left_sidebar,
                'first_attributes': region_attributes.left_sidebar.addClass('layout__region'),
                'second': content.main,
                'second_attributes': region_attributes.main.addClass('layout__region'),
                'third': content.right_sidebar,
                'third_attributes': region_attributes.right_sidebar.addClass('layout__region'),
            } %}

    {% endif %}
{% elseif content.left_sidebar or content.right_sidebar %}
    {% if content.left_sidebar %}
        {% if settings.region_widths == 'equal' %}
            {% set attributes = attributes.addClass(['layout-toucan']) %}

            {% include "@decanter/layout/grid/two-column/toucan/toucan.twig" with
                {
                    'attributes': attributes,
                    'first': content.left_sidebar,
                    'first_attributes': region_attributes.left_sidebar.addClass('layout__region'),
                    'second': content.main,
                    'second_attributes': region_attributes.main.addClass('layout__region'),
                } %}

        {% else %}
            {% set attributes = attributes.addClass(['layout-pacman']) %}


            {% include "@decanter/layout/grid/two-column/pacman/pacman.twig" with
                {
                    'attributes': attributes,
                    'sidebar': content.left_sidebar,
                    'sidebar_attributes': region_attributes.left_sidebar.addClass('layout__region'),
                    'content': content.main,
                    'content_attributes': region_attributes.main.addClass('layout__region'),
                } %}

        {% endif %}
    {% endif %}

    {% if content.right_sidebar %}
        {% set attributes = attributes.addClass(['layout-toucan']) %}

        {% include "@decanter/layout/grid/two-column/toucan/toucan.twig" with
            {
                'attributes': attributes,
                'first': content.main,
                'first_attributes': region_attributes.main.addClass('layout__region'),
                'second': content.right_sidebar,
                'second_attributes': region_attributes.right_sidebar.addClass('layout__region'),
            } %}

    {% endif %}
{% else %}
    {% set attributes = attributes.addClass(['layout-basic']) %}

    {% include "@decanter/layout/grid/one-column/basic/basic.twig" with
        {
            'attributes': attributes,
            'content': content.main,
            'content_attributes': region_attributes.main.addClass('layout__region'),
        } %}

{% endif %}
